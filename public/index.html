<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ShadowChat</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header><h1>ShadowChat</h1></header>
    <div id="landing">
      <div id="customRoomContainer">
        <input
          id="customRoomInput"
          placeholder="Enter custom room ID (e.g., sonu-room123)"
        />
        <button id="createCustomRoom">Create Custom Room</button>
        <p id="roomAvailability" style="display: none; color: #00ff88"></p>
      </div>
      <button id="generate">Generate Random Room</button>
      <input id="roomInput" placeholder="Paste link or Room ID" />
      <button id="join">Join Room</button>
      <div id="linkDisplay" style="display: none">
        <p>Your room link: <a id="link" href="#" target="_blank"></a></p>
        <p>Send to your friend and chat!</p>
        <button id="shareWhatsApp">Share on WhatsApp</button>
      </div>
    </div>
    <div id="chat" style="display: none">
      <div id="status"></div>
      <div id="startCallContainer" style="text-align: center; margin: 10px; display: none;">
        <button id="startCall" class="call-btn">ğŸ“¹ Start Video Call</button>
      </div>
      <div id="videoCallContainer" style="display: none; position: relative; background: rgba(0,0,0,0.5); border-radius: 10px; margin: 10px; padding: 10px;">
        <video id="localVideo" autoplay muted playsinline style="width: 200px; height: 150px; border-radius: 10px; position: absolute; top: 10px; right: 10px; background: black;"></video>
        <video id="remoteVideo" autoplay playsinline style="width: 100%; height: 300px; border-radius: 10px; background: black;"></video>
        <div id="callControls" style="text-align: center; margin-top: 10px;">
          <button id="endCall" class="call-btn" style="background: #f44336; color: white; border: none; padding: 10px; border-radius: 50%; margin: 5px; cursor: pointer; display: none;">ğŸ“ End Call</button>
          <button id="toggleAudio" class="call-btn" style="background: #2196F3; color: white; border: none; padding: 10px; border-radius: 50%; margin: 5px; cursor: pointer;">ğŸ”‡ Mute Audio</button>
          <button id="toggleVideo" class="call-btn" style="background: #FF9800; color: white; border: none; padding: 10px; border-radius: 50%; margin: 5px; cursor: pointer;">ğŸ¥ Stop Video</button>
        </div>
      </div>
      <div id="messages"></div>
      <div id="typing"></div>
      <div class="input-area">
        <input id="messageInput" placeholder="Type message..." />
        <button id="mediaMenuBtn" class="media-menu-btn">ğŸ“</button>
        <button id="voiceNoteBtn">ğŸ™ï¸</button>
        <label for="mediaInput" class="media-upload-btn">ğŸ“</label>
        <input
          id="mediaInput"
          type="file"
          accept="image/*,video/*,application/pdf,audio/*"
          style="display: none"
        />
        <button id="send">Send</button>
        <div id="mediaMenu" class="media-menu" style="display: none">
          <button onclick="document.getElementById('voiceNoteBtn').click()">ğŸ™ï¸ Voice Note</button>
          <button onclick="document.getElementById('mediaInput').click()">ğŸ“· Media</button>
        </div>
      </div>
    </div>
    <div id="imageModal" class="modal" style="display: none">
      <span id="closeModal" class="close">&times;</span>
      <img id="modalImage" class="modal-content" src="" alt="Preview" />
    </div>
    <footer>
      Sanu Sharma -
      <a href="mailto:the.drayen@gmail.com">the.drayen@gmail.com</a>
    </footer>
    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
  </body>
</html>